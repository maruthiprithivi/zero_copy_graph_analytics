{
  "catalogs": [
    {
      "name": "ch",
      "type": "clickhouse",
      "jdbc": {
        "jdbcUri": "jdbc:ch://clickhouse:8123/default",
        "username": "default",
        "password": "clickhouse123",
        "driverClass": "com.clickhouse.jdbc.ClickHouseDriver"
      }
    }
  ],
  "graph": {
    "vertices": [
      {
        "label": "Customer",
        "oneToOne": {
          "tableSource": {
            "catalog": "ch",
            "schema": "default",
            "table": "customers"
          },
          "id": {
            "fields": [
              {"type": "String", "field": "customer_id", "alias": "id"}
            ]
          },
          "attributes": [
            {"type": "String", "field": "email", "alias": "email"},
            {"type": "String", "field": "name", "alias": "name"},
            {"type": "String", "field": "segment", "alias": "segment"}
          ]
        }
      },
      {
        "label": "Product",
        "oneToOne": {
          "tableSource": {
            "catalog": "ch",
            "schema": "default",
            "table": "products"
          },
          "id": {
            "fields": [
              {"type": "String", "field": "product_id", "alias": "id"}
            ]
          },
          "attributes": [
            {"type": "String", "field": "name", "alias": "name"},
            {"type": "String", "field": "category", "alias": "category"},
            {"type": "String", "field": "brand", "alias": "brand"}
          ]
        }
      },
      {
        "label": "FraudCustomer",
        "oneToOne": {
          "tableSource": {
            "catalog": "ch",
            "schema": "default",
            "table": "fraud_customers"
          },
          "id": {
            "fields": [
              {"type": "String", "field": "customer_id", "alias": "id"}
            ]
          },
          "attributes": [
            {"type": "String", "field": "name", "alias": "name"},
            {"type": "String", "field": "email", "alias": "email"},
            {"type": "Double", "field": "risk_score", "alias": "risk_score"},
            {"type": "String", "field": "status", "alias": "status"},
            {"type": "Short", "field": "is_fraudulent", "alias": "is_fraudulent"}
          ]
        }
      },
      {
        "label": "FraudAccount",
        "oneToOne": {
          "tableSource": {
            "catalog": "ch",
            "schema": "default",
            "table": "fraud_accounts"
          },
          "id": {
            "fields": [
              {"type": "String", "field": "account_id", "alias": "id"}
            ]
          },
          "attributes": [
            {"type": "String", "field": "customer_id", "alias": "customer_id"},
            {"type": "String", "field": "account_type", "alias": "account_type"},
            {"type": "Double", "field": "balance", "alias": "balance"},
            {"type": "String", "field": "status", "alias": "status"},
            {"type": "Short", "field": "is_fraudulent", "alias": "is_fraudulent"}
          ]
        }
      },
      {
        "label": "FraudDevice",
        "oneToOne": {
          "tableSource": {
            "catalog": "ch",
            "schema": "default",
            "table": "fraud_devices"
          },
          "id": {
            "fields": [
              {"type": "String", "field": "device_id", "alias": "id"}
            ]
          },
          "attributes": [
            {"type": "String", "field": "device_fingerprint", "alias": "device_fingerprint"},
            {"type": "String", "field": "device_type", "alias": "device_type"},
            {"type": "String", "field": "ip_address", "alias": "ip_address"},
            {"type": "String", "field": "location", "alias": "location"},
            {"type": "Short", "field": "is_suspicious", "alias": "is_suspicious"}
          ]
        }
      },
      {
        "label": "FraudMerchant",
        "oneToOne": {
          "tableSource": {
            "catalog": "ch",
            "schema": "default",
            "table": "fraud_merchants"
          },
          "id": {
            "fields": [
              {"type": "String", "field": "merchant_id", "alias": "id"}
            ]
          },
          "attributes": [
            {"type": "String", "field": "merchant_name", "alias": "merchant_name"},
            {"type": "String", "field": "category", "alias": "category"},
            {"type": "Double", "field": "risk_score", "alias": "risk_score"},
            {"type": "Short", "field": "is_fraudulent", "alias": "is_fraudulent"}
          ]
        }
      }
    ],
    "edges": [
      {
        "label": "PURCHASED",
        "fromVertex": "Customer",
        "toVertex": "Product",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "transactions"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "transaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "customer_id", "alias": "customer_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "product_id", "alias": "product_id"}
          ]
        },
        "attributes": [
          {"type": "String", "field": "channel", "alias": "channel"},
          {"type": "String", "field": "status", "alias": "status"}
        ]
      },
      {
        "label": "VIEWED",
        "fromVertex": "Customer",
        "toVertex": "Product",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "interactions_view"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "interaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "customer_id", "alias": "customer_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "product_id", "alias": "product_id"}
          ]
        },
        "attributes": [
          {"type": "DateTime", "field": "timestamp", "alias": "timestamp"},
          {"type": "String", "field": "device", "alias": "device"},
          {"type": "String", "field": "session_id", "alias": "session_id"}
        ]
      },
      {
        "label": "CLICKED",
        "fromVertex": "Customer",
        "toVertex": "Product",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "interactions_click"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "interaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "customer_id", "alias": "customer_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "product_id", "alias": "product_id"}
          ]
        },
        "attributes": [
          {"type": "DateTime", "field": "timestamp", "alias": "timestamp"},
          {"type": "String", "field": "device", "alias": "device"}
        ]
      },
      {
        "label": "ADDED_TO_CART",
        "fromVertex": "Customer",
        "toVertex": "Product",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "interactions_cart"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "interaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "customer_id", "alias": "customer_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "product_id", "alias": "product_id"}
          ]
        },
        "attributes": [
          {"type": "DateTime", "field": "timestamp", "alias": "timestamp"},
          {"type": "String", "field": "device", "alias": "device"}
        ]
      },
      {
        "label": "OWNS_ACCOUNT",
        "fromVertex": "FraudCustomer",
        "toVertex": "FraudAccount",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "fraud_accounts"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "account_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "customer_id", "alias": "customer_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "account_id", "alias": "account_id"}
          ]
        },
        "attributes": [
          {"type": "String", "field": "account_type", "alias": "account_type"},
          {"type": "String", "field": "status", "alias": "status"}
        ]
      },
      {
        "label": "FRAUD_TRANSACTION",
        "fromVertex": "FraudAccount",
        "toVertex": "FraudAccount",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "fraud_transactions"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "transaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "from_account_id", "alias": "from_account_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "to_account_id", "alias": "to_account_id"}
          ]
        },
        "attributes": [
          {"type": "String", "field": "transaction_type", "alias": "transaction_type"},
          {"type": "Double", "field": "risk_score", "alias": "risk_score"},
          {"type": "Short", "field": "is_flagged", "alias": "is_flagged"},
          {"type": "Short", "field": "is_fraudulent", "alias": "is_fraudulent"}
        ]
      },
      {
        "label": "USED_DEVICE",
        "fromVertex": "FraudAccount",
        "toVertex": "FraudDevice",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "fraud_transactions"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "transaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "from_account_id", "alias": "from_account_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "device_id", "alias": "device_id"}
          ]
        },
        "attributes": [
          {"type": "DateTime", "field": "timestamp", "alias": "timestamp"},
          {"type": "String", "field": "ip_address", "alias": "ip_address"}
        ]
      },
      {
        "label": "PAID_MERCHANT",
        "fromVertex": "FraudAccount",
        "toVertex": "FraudMerchant",
        "tableSource": {
          "catalog": "ch",
          "schema": "default",
          "table": "fraud_transactions"
        },
        "id": {
          "fields": [
            {"type": "String", "field": "transaction_id", "alias": "id"}
          ]
        },
        "fromId": {
          "fields": [
            {"type": "String", "field": "from_account_id", "alias": "from_account_id"}
          ]
        },
        "toId": {
          "fields": [
            {"type": "String", "field": "merchant_id", "alias": "merchant_id"}
          ]
        },
        "attributes": [
          {"type": "Double", "field": "amount", "alias": "amount"},
          {"type": "DateTime", "field": "timestamp", "alias": "timestamp"}
        ]
      }
    ]
  }
}
